{"ast":null,"code":"var _jsxFileName = \"/Users/Ivan/Desktop/test4/boards-api/boards-app/src/components/Board.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport update from \"immutability-helper\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Board extends Component {\n  constructor(props) {\n    super(props);\n\n    this.reloadCards = () => {\n      this.setState({\n        cards: []\n      });\n      this.loadColumns();\n    };\n\n    this.newCard = e => {\n      if (e.key === \"Enter\" && !(e.target.value === \"\")) {\n        axios.post(`/api/v1/boards/1/board_columns/3/cards`, {\n          card: {\n            title: e.target.value\n          }\n        }).then(res => {\n          this.reloadCards();\n          this.setState({\n            inputValue: \"\"\n          });\n        }).catch(error => console.log(error));\n      }\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        inputValue: e.target.value\n      });\n    };\n\n    this.removeColumn = (board_id, id) => {\n      axios.delete(`/api/v1/boards/${board_id}/board_columns/${id}`).then(res => {\n        const columnIndex = this.state.columns.findIndex(x => x.id === id);\n        const columns = update(this.state.columns, {\n          $splice: [[columnIndex, 1]]\n        });\n        this.setState({\n          columns: columns\n        });\n        this.reloadCards();\n      }).catch(error => console.log(error));\n    };\n\n    this.removeCard = (board_id, id) => {\n      axios.delete(`/api/v1/boards/${board_id}/board_columns/:board_column_id/cards/${id}`).then(res => {\n        this.reloadCards();\n      }).catch(error => console.log(error));\n    };\n\n    this.state = {\n      columns: [],\n      cards: []\n    };\n  }\n\n  loadColumns() {\n    axios.get(`/api/v1/boards/1/board_columns`).then(res => {\n      this.setState({\n        columns: res.data\n      });\n    });\n    axios.get(`/api/v1/boards/1/board_columns/:board_column_id/cards`).then(res => {\n      this.setState({\n        cards: res.data\n      });\n    }).catch(error => console.log(error));\n  }\n\n  componentDidMount() {\n    this.loadColumns();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"topHeading\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Boards\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wrapItems\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"listItems\",\n            children: this.state.columns.map(column => {\n              return /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"item\",\n                column: column,\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/boards\",\n                  children: column.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 123,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"itemDisplay\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"removeItemButton\",\n                  onClick: e => this.removeColumn(1, column.id),\n                  children: \"x\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 25\n                }, this)]\n              }, column.board_id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 25\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"taskContainer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"newColumn\",\n            type: \"text\",\n            placeholder: \"Input a New Card and Press Enter\",\n            maxLength: \"75\",\n            onKeyPress: this.newCard,\n            value: this.state.inputValue,\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"listItems\",\n            children: this.state.cards.map(card => {\n              return /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"item\",\n                card: card,\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/boards\",\n                  children: card.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 147,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"itemDisplay\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 148,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"removeItemButton\",\n                  onClick: e => this.removeCard(1, card.id),\n                  children: \"x\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 149,\n                  columnNumber: 25\n                }, this)]\n              }, card.board_column_id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 25\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/boards\",\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Board;","map":{"version":3,"sources":["/Users/Ivan/Desktop/test4/boards-api/boards-app/src/components/Board.js"],"names":["React","Component","axios","update","Link","Board","constructor","props","reloadCards","setState","cards","loadColumns","newCard","e","key","target","value","post","card","title","then","res","inputValue","catch","error","console","log","handleChange","removeColumn","board_id","id","delete","columnIndex","state","columns","findIndex","x","$splice","removeCard","get","data","componentDidMount","render","map","column","board_column_id"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport update from \"immutability-helper\";\nimport { Link } from \"react-router-dom\";\n\nclass Board extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n          columns: [],\n          cards: []\n        };\n    }\n\n    loadColumns() {\n        axios\n          .get(`/api/v1/boards/1/board_columns`)\n          .then((res) => {\n            this.setState({ columns: res.data });\n          })\n        axios\n          .get(`/api/v1/boards/1/board_columns/:board_column_id/cards`)\n          .then((res) => {\n            this.setState({ cards: res.data });\n          })\n        .catch((error) => console.log(error));\n    }\n\n    reloadCards = () => {\n        this.setState({ cards: [] });\n        this.loadColumns();\n      };\n\n    // newColumn = (e, board_id) => {\n    //     if (e.key === \"Enter\" && !(e.target.value === \"\")) {\n    //         axios\n    //           .post(`/api/v1/boards/${board_id}/board_columns`, { column: { title: e.target.value } })\n    //           .then((res) => {\n    //             const columns = update(this.state.columns, {\n    //               $splice: [[0, 0, res.data]],\n    //             });\n        \n    //             this.setState({\n    //                 columns: columns,\n    //               inputValue: \"\",\n    //             });\n    //           })\n    //           .catch((error) => console.log(error));\n    //         }\n    // };\n\n    newCard = (e) => {\n        if (e.key === \"Enter\" && !(e.target.value === \"\")) {\n            axios\n              .post(`/api/v1/boards/1/board_columns/3/cards`, { card: { title: e.target.value } })\n              .then((res) => {\n                this.reloadCards();\n        \n                this.setState({\n                  inputValue: \"\",\n                });\n              })\n              .catch((error) => console.log(error));\n            }\n    };\n\n    handleChange = (e) => {\n\t\tthis.setState({inputValue: e.target.value});\n\t  }\n\n\n    removeColumn = (board_id, id) => {\n        axios \n            .delete(`/api/v1/boards/${board_id}/board_columns/${id}`)\n            .then((res) => {\n                const columnIndex = this.state.columns.findIndex((x) => x.id === id);\n                const columns = update(this.state.columns, {\n                  $splice: [[columnIndex, 1]],\n                });\n                this.setState({\n                    columns: columns,\n                });\n                this.reloadCards();\n              })\n              .catch((error) => console.log(error));\n    };\n\n    removeCard = (board_id, id) => {\n        axios\n            .delete(`/api/v1/boards/${board_id}/board_columns/:board_column_id/cards/${id}`)\n            .then((res) => {\n                this.reloadCards();\n              })\n              .catch((error) => console.log(error));\n    };\n\n\n    componentDidMount() {\n        this.loadColumns();\n    }\n\n    render() {\n        return (\n                \n\n            <div>\n            <div className=\"topHeading\">\n              <h1>Boards</h1>\n              <div className=\"wrapItems\">\n              {/* <input\n                    className=\"newColumn\"\n                    type=\"text\"\n                    placeholder=\"Input a New Column and Press Enter\"\n                    maxLength=\"75\"\n                    onKeyPress={this.newColumn(9)}\n                    value={this.state.inputValue}\n                    onChange={this.handleChange}\n                /> */}\n                <div className=\"listItems\">\n                    {this.state.columns.map((column) => {\n                    return (\n                        <li className=\"item\" column={column} key={column.board_id}>\n                        <Link to=\"/boards\">{column.title}</Link>\n                        <label className=\"itemDisplay\"></label>\n                        <span className=\"removeItemButton\" onClick={(e) => this.removeColumn(1,column.id)}>\n                            x\n                        </span>\n                        </li>\n                    );\n                    })}\n                </div>\n                <div className=\"taskContainer\">\n                </div>\n                <input\n                    className=\"newColumn\"\n                    type=\"text\"\n                    placeholder=\"Input a New Card and Press Enter\"\n                    maxLength=\"75\"\n                    onKeyPress={this.newCard}\n                    value={this.state.inputValue}\n                    onChange={this.handleChange}\n                />\n                <div className=\"listItems\">\n                    {this.state.cards.map((card) => {\n                    return (\n                        <li className=\"item\" card={card} key={card.board_column_id}>\n                        <Link to=\"/boards\">{card.title}</Link>\n                        <label className=\"itemDisplay\"></label>\n                        <span className=\"removeItemButton\" onClick={(e) => this.removeCard(1,card.id)}>\n                            x\n                        </span>\n                        </li>\n                    );\n                    })}\n                </div>\n                </div>\n              <Link to=\"/boards\">Back</Link>\n            </div>\n          </div>\n\n        );\n    }\n\n\n}\n\n\n\n\n\n\nexport default Board;"]},"metadata":{},"sourceType":"module"}