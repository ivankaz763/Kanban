{"ast":null,"code":"var _jsxFileName = \"/Users/Ivan/Desktop/test4/boards-api/boards-app/src/components/Board.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport update from \"immutability-helper\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { withRouter } from \"react-router\";\nimport EdiText from 'react-editext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Board extends Component {\n  constructor(props) {\n    super(props);\n\n    this.reloadCards = () => {\n      this.setState({\n        cards: []\n      });\n      this.loadColumns();\n    };\n\n    this.reloadColumns = () => {\n      this.setState({\n        columns: [],\n        cards: [],\n        board: null\n      });\n      this.loadColumns();\n    };\n\n    this.newColumn = (e, id) => {\n      if (e.key === \"Enter\" && !(e.target.value === \"\")) {\n        axios.post(`/api/v1/board_columns`, {\n          board_column: {\n            title: e.target.value,\n            board_id: id\n          }\n        }).then(res => {\n          this.reloadColumns();\n          this.setState({\n            inputValue: \"\"\n          });\n        }).catch(error => console.log(error));\n      }\n    };\n\n    this.newCard = (e, column_id, id) => {\n      if (e.key === \"Enter\" && !(e.target.value === \"\")) {\n        axios.post(`/api/v1/cards`, {\n          card: {\n            title: e.target.value,\n            board_column_id: column_id,\n            board_id: id\n          }\n        }).then(res => {\n          this.reloadCards();\n          this.setState({\n            inputValue: \"\"\n          });\n        }).catch(error => console.log(error));\n      }\n    };\n\n    this.handleChange = e => {\n      this.setState({\n        inputValue: e.target.value\n      });\n    };\n\n    this.removeColumn = id => {\n      axios.delete(`/api/v1/board_columns/${id}`).then(res => {\n        const columnIndex = this.state.columns.findIndex(x => x.id === id);\n        const columns = update(this.state.columns, {\n          $splice: [[columnIndex, 1]]\n        });\n        this.setState({\n          columns: columns\n        });\n        this.reloadCards();\n      }).catch(error => console.log(error));\n    };\n\n    this.removeCard = id => {\n      axios.delete(`/api/v1/cards/${id}`).then(res => {\n        this.reloadCards();\n      }).catch(error => console.log(error));\n    };\n\n    this.modifyCard = (value, card_id) => {\n      if (!(value === \"\")) {\n        axios.put(`/api/v1/cards/${card_id}`, {\n          card: {\n            title: value\n          }\n        }).then(res => {\n          this.reloadCards();\n        }).catch(error => console.log(error));\n      }\n    };\n\n    this.state = {\n      columns: [],\n      cards: [],\n      board: null\n    };\n  }\n\n  loadColumns() {\n    const link = this.props.match.params.link;\n    axios.get(`/api/v1/board/${link}`).then(res => {\n      this.setState({\n        board: res.data\n      });\n      axios.get(`/api/v1/board_columns`, {\n        params: {\n          board_id: res.data.id\n        }\n      }).then(res => {\n        this.setState({\n          columns: res.data\n        });\n        res.data.forEach(column => {\n          axios.get(`/api/v1/cards`, {\n            params: {\n              board_column_id: column.id\n            }\n          }).then(res => {\n            // this.setState({ cards: res.data });\n            const newCards = this.state.cards;\n            newCards.push(res.data);\n            this.setState({\n              cards: newCards\n            });\n          });\n        });\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.loadColumns();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"topHeading\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Boards\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"wrapItems\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"newColumn\",\n            type: \"text\",\n            placeholder: \"Input a New Column and Press Enter\",\n            maxLength: \"75\",\n            onKeyPress: event => this.newColumn(event, this.state.board.id),\n            value: this.state.inputValue,\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"listItems\",\n            children: this.state.columns.map(column => {\n              return /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"item\",\n                column: column,\n                children: [/*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/boards\",\n                  children: column.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"itemDisplay\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"removeItemButton\",\n                  onClick: e => this.removeColumn(column.id),\n                  children: \"x\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 25\n                }, this)]\n              }, column.board_id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 25\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"taskContainer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"newColumn\",\n            type: \"text\",\n            placeholder: \"Input a New Card and Press Enter\",\n            maxLength: \"75\",\n            onKeyPress: event => this.newCard(event, 3),\n            value: this.state.inputValue,\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"listItems\",\n            children: this.state.cards.map(card => {\n              return /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"item\",\n                card: card,\n                children: [/*#__PURE__*/_jsxDEV(EdiText, {\n                  showButtonsOnHover: true,\n                  buttonsAlign: \"before\",\n                  type: \"text\",\n                  value: card.title,\n                  onSave: event => this.modifyCard(event, card.id)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 176,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"removeItemButton\",\n                  onClick: e => this.removeCard(card.id),\n                  children: \"x\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 25\n                }, this)]\n              }, card.board_column_id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 25\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/boards\",\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Board;","map":{"version":3,"sources":["/Users/Ivan/Desktop/test4/boards-api/boards-app/src/components/Board.js"],"names":["React","Component","axios","update","Link","useParams","withRouter","EdiText","Board","constructor","props","reloadCards","setState","cards","loadColumns","reloadColumns","columns","board","newColumn","e","id","key","target","value","post","board_column","title","board_id","then","res","inputValue","catch","error","console","log","newCard","column_id","card","board_column_id","handleChange","removeColumn","delete","columnIndex","state","findIndex","x","$splice","removeCard","modifyCard","card_id","put","link","match","params","get","data","forEach","column","newCards","push","componentDidMount","render","event","map"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport update from \"immutability-helper\";\nimport { Link, useParams} from \"react-router-dom\";\nimport { withRouter } from \"react-router\";\nimport EdiText from 'react-editext'\n\nclass Board extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n          columns: [],\n          cards: [],\n          board: null\n        };\n    }\n\n    loadColumns() {\n        const link = this.props.match.params.link;\n        axios \n          .get(`/api/v1/board/${link}`)\n          .then((res) => {\n            this.setState({ board: res.data });\n            axios\n            .get(`/api/v1/board_columns`, { params: {board_id: res.data.id} })\n            .then((res) => {\n              this.setState({ columns: res.data });\n              res.data.forEach((column) => {\n                axios\n                .get(`/api/v1/cards`, { params: {board_column_id: column.id} })\n                .then((res) => {\n                    // this.setState({ cards: res.data });\n                    const newCards = this.state.cards;\n                    newCards.push(res.data);\n                    this.setState({ cards: newCards });\n                  })\n                })\n              })\n            })\n    }\n\n    reloadCards = () => {\n        this.setState({ cards: [] });\n        this.loadColumns();\n      };\n\n    reloadColumns = () => {\n        this.setState({ columns: [], cards: [], board: null });\n        this.loadColumns();\n      };\n    \n    newColumn = (e, id) => {\n        if (e.key === \"Enter\" && !(e.target.value === \"\")) {\n            axios\n              .post(`/api/v1/board_columns`, { board_column: { title: e.target.value, board_id: id} })\n              .then((res) => {\n                this.reloadColumns();\n        \n                this.setState({\n                  inputValue: \"\",\n                });\n              })\n              .catch((error) => console.log(error));\n            }\n    };\n\n    newCard = (e, column_id, id) => {\n        if (e.key === \"Enter\" && !(e.target.value === \"\")) {\n            axios\n              .post(`/api/v1/cards`, { card: { title: e.target.value, board_column_id: column_id, board_id: id} })\n              .then((res) => {\n                this.reloadCards();\n        \n                this.setState({\n                  inputValue: \"\",\n                });\n              })\n              .catch((error) => console.log(error));\n            }\n    };\n\n    handleChange = (e) => {\n\t\tthis.setState({inputValue: e.target.value});\n\t  }\n\n\n    removeColumn = ( id ) => {\n        axios \n            .delete(`/api/v1/board_columns/${id}`)\n            .then((res) => {\n                const columnIndex = this.state.columns.findIndex((x) => x.id === id);\n                const columns = update(this.state.columns, {\n                  $splice: [[columnIndex, 1]],\n                });\n                this.setState({\n                    columns: columns,\n                });\n                this.reloadCards();\n                \n              })\n              .catch((error) => console.log(error));\n    };\n\n    removeCard = ( id ) => {\n        axios\n            .delete(`/api/v1/cards/${id}`)\n            .then((res) => {\n                this.reloadCards();\n              })\n              .catch((error) => console.log(error));\n    };\n\n\n    componentDidMount() {\n        this.loadColumns();\n    }\n\n\n    modifyCard= (value, card_id) => {\n        if (!(value === \"\")) {\n            axios\n                .put(`/api/v1/cards/${card_id}`, { card: { title: value} })\n                .then((res) => {\n                    this.reloadCards();\n                })\n                .catch((error) => console.log(error));\n        }\n    };\n\n    render() {\n\n        return (\n                \n\n            <div>\n            <div className=\"topHeading\">\n              <h1>Boards</h1>\n              <div className=\"wrapItems\">\n              <input\n                    className=\"newColumn\"\n                    type=\"text\"\n                    placeholder=\"Input a New Column and Press Enter\"\n                    maxLength=\"75\"\n                    onKeyPress={(event) => this.newColumn(event, this.state.board.id)}\n                    value={this.state.inputValue}\n                    onChange={this.handleChange}\n                />\n                <div className=\"listItems\">\n                    {this.state.columns.map((column) => {\n                    return (\n                        <li className=\"item\" column={column} key={column.board_id}>\n                        <Link to=\"/boards\">{column.title}</Link>\n                        <label className=\"itemDisplay\"></label>\n                        <span className=\"removeItemButton\" onClick={(e) => this.removeColumn(column.id)}>\n                            x\n                        </span>\n                        </li>\n                    );\n                    })}\n                </div>\n                <div className=\"taskContainer\">\n                </div>\n                <input\n                    className=\"newColumn\"\n                    type=\"text\"\n                    placeholder=\"Input a New Card and Press Enter\"\n                    maxLength=\"75\"\n                    onKeyPress={(event) => this.newCard(event, 3)}\n                    value={this.state.inputValue}\n                    onChange={this.handleChange}\n                />\n                <div className=\"listItems\">\n                    {this.state.cards.map((card) => {\n                    return (\n                        <li className=\"item\" card={card} key={card.board_column_id}>\n                        <EdiText\n                            showButtonsOnHover\n                            buttonsAlign='before'\n                            type='text'\n                            value={card.title}\n                            onSave={(event) => this.modifyCard(event, card.id)}\n                        />\n                        <span className=\"removeItemButton\" onClick={(e) => this.removeCard(card.id)}>x</span>\n                        </li>\n                    );\n                    })}\n                </div>\n                </div>\n              <Link to=\"/boards\">Back</Link>\n            </div>\n          </div>\n\n        );\n    }\n\n\n}\n\n\n\n\n\n\nexport default Board;"]},"metadata":{},"sourceType":"module"}